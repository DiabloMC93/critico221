<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Marcapasos y Contrapulsación</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #020617; /* Slate 950 */
            color: #f1f5f9;
        }

        .glass-card {
            background: rgba(15, 23, 42, 0.8); /* Slate 900 */
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        .option-btn {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(30, 41, 59, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .option-btn:hover:not(:disabled) {
            background-color: rgba(51, 65, 85, 0.8);
            border-color: rgba(59, 130, 246, 0.5);
            transform: translateY(-2px);
        }

        .correct {
            background-color: #064e3b !important;
            border-color: #10b981 !important;
            color: #d1fae5 !important;
        }

        .incorrect {
            background-color: #450a0a !important;
            border-color: #ef4444 !important;
            color: #fee2e2 !important;
        }

        #next-btn {
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div id="app" class="w-full max-w-2xl">
        <!-- Pantalla del Test -->
        <div id="quiz-screen">
            <!-- Cabecera de Stats -->
            <div class="flex justify-between items-end mb-8 px-2">
                <div class="flex gap-4">
                    <div class="glass-card px-5 py-3 rounded-2xl border-green-500/20 text-center min-w-[110px]">
                        <span class="text-[10px] uppercase tracking-widest text-slate-500 font-bold block mb-1">Aciertos</span>
                        <span id="score-correct" class="text-2xl font-bold text-green-400">0</span>
                    </div>
                    <div class="glass-card px-5 py-3 rounded-2xl border-red-500/20 text-center min-w-[110px]">
                        <span class="text-[10px] uppercase tracking-widest text-slate-500 font-bold block mb-1">Errores</span>
                        <span id="score-incorrect" class="text-2xl font-bold text-red-400">0</span>
                    </div>
                </div>
                <div class="text-right">
                    <span id="question-index" class="text-xs font-bold text-orange-400 uppercase tracking-tighter bg-orange-500/10 px-3 py-1.5 rounded-lg border border-orange-500/20">
                        Cargando...
                    </span>
                </div>
            </div>

            <!-- Pregunta -->
            <div class="glass-card p-8 md:p-10 rounded-3xl mb-8 relative overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-orange-500 to-red-600"></div>
                
                <h2 id="question-text" class="text-xl md:text-2xl font-medium mb-10 text-slate-100 leading-snug">
                    Cargando pregunta...
                </h2>
                
                <div id="options-container" class="grid gap-3">
                    <!-- Opciones dinámicas -->
                </div>
            </div>
            
            <div class="flex justify-center">
                <button id="next-btn" onclick="quiz.next()" class="hidden bg-orange-600 hover:bg-orange-500 text-white px-10 py-4 rounded-2xl font-bold transition-all transform active:scale-95">
                    Siguiente Pregunta
                </button>
            </div>
        </div>

        <!-- Pantalla Final -->
        <div id="result-screen" class="hidden glass-card p-12 rounded-3xl text-center">
            <div class="w-20 h-20 bg-orange-500/20 rounded-full flex items-center justify-center mx-auto mb-6">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-orange-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
            </div>
            <h2 class="text-3xl font-bold mb-2 text-white">¡Bloque Finalizado!</h2>
            <p class="text-slate-400 mb-10">Has completado el repaso de Marcapasos y Balón de Contrapulsación.</p>
            
            <div class="grid grid-cols-2 gap-6 mb-12">
                <div class="p-6 bg-slate-900/50 rounded-2xl border border-green-500/20">
                    <p class="text-green-500 text-xs font-bold uppercase mb-2">Aciertos</p>
                    <p id="final-correct" class="text-5xl font-bold text-green-400">0</p>
                </div>
                <div class="p-6 bg-slate-900/50 rounded-2xl border border-red-500/20">
                    <p class="text-red-500 text-xs font-bold uppercase mb-2">Errores</p>
                    <p id="final-incorrect" class="text-5xl font-bold text-red-400">0</p>
                </div>
            </div>
            
            <button onclick="location.reload()" class="w-full bg-slate-800 hover:bg-slate-700 text-white px-8 py-4 rounded-2xl font-bold transition-all border border-slate-700">
                Reiniciar Test
            </button>
        </div>
    </div>

    <script>
        const questions = [
            // Se ha eliminado la pregunta 1 original según lo solicitado
            { q: "1. ¿Qué marcapaso temporal se usa de emergencia?", a: ["Marcapasos epicutáneo/transtorácico", "Marcapasos transvenoso", "Los dos", "Ninguno"], c: 0 },
            { q: "2. ¿Qué marcapaso se usa para la estimulación directa al endocardio?", a: ["Marcapasos epicutáneo/transtorácico", "Marcapasos transvenoso", "Los dos", "Ninguno"], c: 1 },
            { q: "3. ¿Qué marcapaso se usa para la bradicardia sinusal?", a: ["Marcapasos epicutáneo/transtorácico", "Marcapasos transvenoso", "Los dos", "Ninguno"], c: 2 },
            { q: "4. ¿Qué marcapaso se usa para la disfunción sinusal?", a: ["Marcapasos epicutáneo/transtorácico", "Marcapasos transvenoso", "Los dos", "Ninguno"], c: 2 },
            { q: "5. ¿Qué modo de estimulación se usa cuando el paciente hace los latidos que pueda y el marcapaso hace los demás?", a: ["Sincronizado o a demanda", "Asincronizado", "Los dos", "Ninguno"], c: 0 },
            { q: "6. ¿Qué modo de estimulación se usa cuando el marcapaso lo hace todo?", a: ["Sincronizado o a demanda", "Asincronizado", "Los dos", "Ninguno"], c: 1 },
            { q: "7. ¿Qué modo de estimulación provoca taquiarritmias?", a: ["Sincronizado o a demanda", "Asincronizado", "Los dos", "Ninguno"], c: 1 },
            { q: "8. ¿Qué valores tiene la frecuencia en un marcapaso temporal?", a: ["10 a 190 lpm", "30 a 180 lpm", "50 a 180 lpm", "50 a 190 lpm"], c: 1 },
            { q: "9. ¿Qué valores tiene la salida del marcapaso temporal?", a: ["0’25 a 20 mA", "0’15 a 20 mA", "0’10 a 20 mA", "0’20 a 20 mA"], c: 2 },
            { q: "10. ¿Qué valores tiene la sensibilidad del marcapaso temporal?", a: ["0’35 a 20 mV", "0’45 a 20 mV", "0’50 a 20 mV", "0’55 a 20 mV"], c: 2 },
            { q: "11. ¿Cuál es el propósito principal de un marcapasos temporal?", a: ["Corregir ritmos cardíacos anormales a largo plazo", "Proporcionar una estimulación cardíaca de emergencia y temporal", "Mantener una frecuencia cardíaca estable en reposo", "Realizar un seguimiento continuo del ritmo"], c: 1 },
            { q: "12. ¿Cuál es la principal indicación para el uso de un marcapasos temporal?", a: ["Bradiarritmias sintomáticas que no responden a otros tratamientos", "Taquicardia ventricular sostenida", "Hipertensión arterial", "Insuficiencia cardíaca congestiva"], c: 0 },
            { q: "13. ¿Cuál describe mejor la colocación de un marcapasos temporal?", a: ["Se implanta quirúrgicamente en el corazón", "Se inserta a través de un CVC y se coloca en ventrículo derecho o atrio", "Requiere anestesia general", "Solo se utiliza en pediatría"], c: 1 },
            { q: "14. ¿Cuál es el tipo más común de marcapasos temporal en la práctica clínica?", a: ["Marcapasos epicárdico", "Marcapasos subcutáneos", "Marcapasos transvenoso", "Marcapasos permanente"], c: 2 },
            { q: "15. ¿Cuál es una complicación potencial asociada con marcapasos temporales?", a: ["Hipertensión arterial", "Arritmias cardíacas", "Hipoglucemia", "Aumento del colesterol"], c: 1 },
            { q: "16. ¿En qué situaciones se puede utilizar un marcapaso temporal?", a: ["Insuficiencia cardíaca crónica", "Infarto agudo de miocardio", "Arritmias supraventriculares", "Todas las anteriores"], c: 3 },
            { q: "17. ¿Ubicación típica para la inserción de electrodos de un marcapaso temporal?", a: ["Aurícula derecha y ventrículo derecho", "Ventrículo izquierdo", "Ápex del corazón", "Arteria pulmonar"], c: 0 },
            { q: "18. ¿Qué parámetro se ajusta con mayor frecuencia?", a: ["Intensidad del pulso", "Frecuencia cardíaca", "Duración del impulso", "Voltaje de salida"], c: 1 },
            { q: "19. ¿Principal complicación asociada con marcapasos temporales?", a: ["Trombosis arterial", "Disfunción renal", "Infección del sitio de inserción", "Hipertensión"], c: 2 },
            { q: "20. ¿Cuál es el catéter en la contrapulsación aórtica?", a: ["Dispositivo de asistencia al VI", "Dispositivo de asistencia al VD", "Dispositivo de asistencia al AI", "Dispositivo de asistencia al AD"], c: 0 },
            { q: "21. ¿Dónde se coloca la contrapulsación aórtica?", a: ["Arteria pulmonar", "Vena pulmonar", "Arteria aorta, entre subclavia y renales", "Vena aorta"], c: 2 },
            { q: "22. ¿Qué sucede en la diástole durante la contrapulsación aórtica?", a: ["Se vacía", "Se llena", "No sucede nada", "No llega el impulso"], c: 1 },
            { q: "23. ¿Cómo es el globo de la contrapulsación aórtica?", a: ["Globo pequeño", "Globo alargado", "Globo doblado", "Globo vaciado"], c: 1 }
        ];

        class Quiz {
            constructor() {
                this.currentIdx = 0;
                this.correct = 0;
                this.incorrect = 0;
                this.answered = false;
            }

            init() {
                this.renderQuestion();
            }

            renderQuestion() {
                this.answered = false;
                const q = questions[this.currentIdx];
                document.getElementById('question-index').innerText = `Pregunta ${this.currentIdx + 1} / ${questions.length}`;
                document.getElementById('question-text').innerText = q.q;
                document.getElementById('next-btn').classList.add('hidden');
                
                const container = document.getElementById('options-container');
                container.innerHTML = '';

                q.a.forEach((option, idx) => {
                    const btn = document.createElement('button');
                    btn.className = 'option-btn w-full text-left p-5 rounded-2xl font-medium text-slate-300';
                    btn.innerText = option;
                    btn.onclick = () => this.checkAnswer(idx, btn);
                    container.appendChild(btn);
                });
            }

            checkAnswer(idx, btn) {
                if (this.answered) return;
                this.answered = true;
                
                const correctIdx = questions[this.currentIdx].c;
                const buttons = document.querySelectorAll('.option-btn');
                
                if (idx === correctIdx) {
                    this.correct++;
                    btn.classList.add('correct');
                    document.getElementById('score-correct').innerText = this.correct;
                } else {
                    this.incorrect++;
                    btn.classList.add('incorrect');
                    buttons[correctIdx].classList.add('correct');
                    document.getElementById('score-incorrect').innerText = this.incorrect;
                }

                buttons.forEach(b => b.disabled = true);
                document.getElementById('next-btn').classList.remove('hidden');
            }

            next() {
                this.currentIdx++;
                if (this.currentIdx < questions.length) {
                    this.renderQuestion();
                } else {
                    this.finish();
                }
            }

            finish() {
                document.getElementById('quiz-screen').classList.add('hidden');
                document.getElementById('result-screen').classList.remove('hidden');
                document.getElementById('final-correct').innerText = this.correct;
                document.getElementById('final-incorrect').innerText = this.incorrect;
            }
        }

        const quiz = new Quiz();
        window.onload = () => quiz.init();
    </script>
</body>
</html>
